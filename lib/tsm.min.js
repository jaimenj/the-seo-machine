"use strict";let tsm_interval_id,tsm_datatables,wpAjaxUrl,tsm_status="stopped";function tsmOnLoadMain(){console.log("Loading The SEO Machine view.."),jQuery("#tsm-datatable tfoot th").each((function(){jQuery(this).text();jQuery(this).html('<input type="text" placeholder="Filtrar.." />')})),tsmLoadDatatables(),tsmUpdateStatusBar()}function tsmLoadDatatables(){let t=document.getElementById("tsm-current-columns-to-show").value;t=t.split(","),console.log(t);let e=new Array;for(let s=0;s<t.length;s++)e.push({name:t[s],targets:s});console.log(e),tsm_datatables=jQuery("#tsm-datatable").DataTable({dom:'<"float-left"i><"float-right"f>t<"float-left"l>B<"float-right"p><"clearfix">',responsive:!0,order:[[0,"desc"]],buttons:["csv","excel","pdf"],initComplete:function(){this.api().columns().every((function(){let t=this;jQuery("input",this.footer()).on("keyup change",(function(){t.search()!==this.value&&t.search(this.value).draw()}))}))},processing:!0,serverSide:!0,ajax:{url:wpAjaxUrl+"?action=tsm_urls",type:"POST"},columnDefs:e}),console.log("Loaded The SEO Machine view!")}function tsmStudySite(){console.log("Starting study site.."),document.getElementById("tsm-btn-study-site").innerHTML="Stop",document.getElementById("tsm-btn-study-site").classList.add("tsm-button-studying");let t=document.getElementById("quantity_per_batch").value,e=document.getElementById("time_between_batches").value;console.log("Quantity per batch: "+t+", time between batches: "+e),tsm_interval_id=setInterval(tsmStudySiteSendAjax,1e3*e),tsm_status="studying"}function tsmStudySiteSendAjax(){document.getElementById("tsm-box-study-site-status").innerHTML="Doing batch..";let t=new XMLHttpRequest;t.onreadystatechange=function(e){4===t.readyState&&(document.getElementById("tsm-box-study-site-status").innerHTML="Studying with current status: <strong>"+t.responseText+"</strong>",tsmUpdateStatusBar(),tsm_datatables.ajax.reload(),t.responseText.includes("finished")&&tsmStopAll())},t.open("POST",wpAjaxUrl),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),t.send("action=tsm_do_batch")}function tsmUpdateStatusBar(){let t=new XMLHttpRequest;t.onreadystatechange=function(e){if(4===t.readyState){let e=t.responseText.split(",")[0],s=t.responseText.split(",")[1];t.responseText.split(",")[2];document.getElementById("tsm-progress-queue-text").innerHTML=s+" URLs studied from the queue out of a total of "+e+" URLs enqueued",document.getElementById("tsm-progress-queue-content").style.width=100*s/e+"%"}},t.open("POST",wpAjaxUrl),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),t.send("action=tsm_get_status")}function tsmStopAll(){clearInterval(tsm_interval_id),document.getElementById("tsm-btn-study-site").innerHTML="Study Site",document.getElementById("tsm-btn-study-site").classList.remove("tsm-button-studying"),tsm_status="stopped"}window.addEventListener("load",()=>{"undefined"!=typeof weAreInTheSeoMachine&&(wpAjaxUrl=document.getElementById("tsm_form").dataset.wpajaxurl,tsmOnLoadMain(),document.getElementById("tsm-btn-study-site").addEventListener("click",(function(){"stopped"==tsm_status?tsmStudySite():tsmStopAll()})))});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRzbS5qcyJdLCJuYW1lcyI6WyJ0c21faW50ZXJ2YWxfaWQiLCJ0c21fZGF0YXRhYmxlcyIsIndwQWpheFVybCIsInRzbV9zdGF0dXMiLCJ0c21PbkxvYWRNYWluIiwiY29uc29sZSIsImxvZyIsImpRdWVyeSIsImVhY2giLCJ0aGlzIiwidGV4dCIsImh0bWwiLCJ0c21Mb2FkRGF0YXRhYmxlcyIsInRzbVVwZGF0ZVN0YXR1c0JhciIsImN1cnJlbnRDb2x1bW5zVG9TaG93IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInZhbHVlIiwic3BsaXQiLCJjb2x1bW5EZWZzQXJyYXkiLCJBcnJheSIsImluZGV4IiwibGVuZ3RoIiwicHVzaCIsIm5hbWUiLCJ0YXJnZXRzIiwiRGF0YVRhYmxlIiwiZG9tIiwicmVzcG9uc2l2ZSIsIm9yZGVyIiwiYnV0dG9ucyIsImluaXRDb21wbGV0ZSIsImFwaSIsImNvbHVtbnMiLCJldmVyeSIsInRoYXQiLCJmb290ZXIiLCJvbiIsInNlYXJjaCIsImRyYXciLCJwcm9jZXNzaW5nIiwic2VydmVyU2lkZSIsImFqYXgiLCJ1cmwiLCJ0eXBlIiwiY29sdW1uRGVmcyIsInRzbVN0dWR5U2l0ZSIsImlubmVySFRNTCIsImNsYXNzTGlzdCIsImFkZCIsInF1YW50aXR5X3Blcl9iYXRjaCIsInRpbWVfYmV0d2Vlbl9iYXRjaGVzIiwic2V0SW50ZXJ2YWwiLCJ0c21TdHVkeVNpdGVTZW5kQWpheCIsInhociIsIlhNTEh0dHBSZXF1ZXN0Iiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVzcG9uc2UiLCJyZWFkeVN0YXRlIiwicmVzcG9uc2VUZXh0IiwicmVsb2FkIiwiaW5jbHVkZXMiLCJ0c21TdG9wQWxsIiwib3BlbiIsInNldFJlcXVlc3RIZWFkZXIiLCJzZW5kIiwibnVtX3VybHNfaW5fcXVldWUiLCJudW1fdXJsc19pbl9xdWV1ZV92aXNpdGVkIiwic3R5bGUiLCJ3aWR0aCIsImNsZWFySW50ZXJ2YWwiLCJyZW1vdmUiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwid2VBcmVJblRoZVNlb01hY2hpbmUiLCJkYXRhc2V0Iiwid3BhamF4dXJsIl0sIm1hcHBpbmdzIjoiQUFBQSxhQUVBLElBQUlBLGdCQUVBQyxlQUNBQyxVQUZBQyxXQUFhLFVBSWpCLFNBQVNDLGdCQUNMQyxRQUFRQyxJQUFJLGtDQUVaQyxPQUFPLDJCQUEyQkMsTUFBTSxXQUN4QkQsT0FBT0UsTUFBTUMsT0FFekJILE9BQU9FLE1BQU1FLEtBQU0sb0RBR3ZCQyxvQkFDQUMscUJBR0osU0FBU0Qsb0JBQ0wsSUFBSUUsRUFBdUJDLFNBQVNDLGVBQWUsK0JBQStCQyxNQUNsRkgsRUFBdUJBLEVBQXFCSSxNQUFNLEtBQ2xEYixRQUFRQyxJQUFJUSxHQUVaLElBQUlLLEVBQWtCLElBQUlDLE1BQzFCLElBQUssSUFBSUMsRUFBUSxFQUFHQSxFQUFRUCxFQUFxQlEsT0FBUUQsSUFDckRGLEVBQWdCSSxLQUFLLENBQUVDLEtBQVFWLEVBQXFCTyxHQUFRSSxRQUFXSixJQUUzRWhCLFFBQVFDLElBQUlhLEdBRVpsQixlQUFpQk0sT0FBTyxrQkFBa0JtQixVQUFVLENBQ2hEQyxJQUFLLCtFQUNMQyxZQUFZLEVBQ1pDLE1BQU8sQ0FBQyxDQUFFLEVBQUcsU0FDYkMsUUFBUyxDQUFDLE1BQU8sUUFBUyxPQUMxQkMsYUFBYyxXQUNWdEIsS0FBS3VCLE1BQU1DLFVBQVVDLE9BQU8sV0FDeEIsSUFBSUMsRUFBTzFCLEtBRVhGLE9BQVEsUUFBU0UsS0FBSzJCLFVBQVdDLEdBQUksZ0JBQWdCLFdBQzVDRixFQUFLRyxXQUFhN0IsS0FBS1EsT0FDeEJrQixFQUNLRyxPQUFRN0IsS0FBS1EsT0FDYnNCLGNBS3JCQyxZQUFZLEVBQ1pDLFlBQVksRUFDWkMsS0FBTSxDQUNGQyxJQUFLekMsVUFBWSxtQkFDakIwQyxLQUFNLFFBRVZDLFdBQVkxQixJQUdoQmQsUUFBUUMsSUFBSSxnQ0FHaEIsU0FBU3dDLGVBQ0x6QyxRQUFRQyxJQUFJLHlCQUNaUyxTQUFTQyxlQUFlLHNCQUFzQitCLFVBQVksT0FDMURoQyxTQUFTQyxlQUFlLHNCQUFzQmdDLFVBQVVDLElBQUksdUJBRTVELElBQUlDLEVBQXFCbkMsU0FBU0MsZUFBZSxzQkFBc0JDLE1BQ25Fa0MsRUFBdUJwQyxTQUFTQyxlQUFlLHdCQUF3QkMsTUFDM0VaLFFBQVFDLElBQUksdUJBQXlCNEMsRUFBcUIsMkJBQTZCQyxHQUV2Rm5ELGdCQUFrQm9ELFlBQVlDLHFCQUE2QyxJQUF2QkYsR0FDcERoRCxXQUFhLFdBR2pCLFNBQVNrRCx1QkFDTHRDLFNBQVNDLGVBQWUsNkJBQTZCK0IsVUFBWSxnQkFFakUsSUFBSU8sRUFBTSxJQUFJQyxlQUVkRCxFQUFJRSxtQkFBcUIsU0FBVUMsR0FDUixJQUFuQkgsRUFBSUksYUFDSjNDLFNBQVNDLGVBQWUsNkJBQTZCK0IsVUFBWSx5Q0FBMkNPLEVBQUlLLGFBQWUsWUFDL0g5QyxxQkFDQVosZUFBZXlDLEtBQUtrQixTQUNqQk4sRUFBSUssYUFBYUUsU0FBUyxhQUN6QkMsZUFLWlIsRUFBSVMsS0FBSyxPQUFRN0QsV0FDakJvRCxFQUFJVSxpQkFBaUIsZUFBZ0Isb0RBQ3JDVixFQUFJVyxLQUFLLHVCQUdiLFNBQVNwRCxxQkFDTCxJQUFJeUMsRUFBTSxJQUFJQyxlQUVkRCxFQUFJRSxtQkFBcUIsU0FBVUMsR0FDL0IsR0FBdUIsSUFBbkJILEVBQUlJLFdBQWtCLENBQ3RCLElBQUlRLEVBQW9CWixFQUFJSyxhQUFhekMsTUFBTSxLQUFLLEdBQ2hEaUQsRUFBNEJiLEVBQUlLLGFBQWF6QyxNQUFNLEtBQUssR0FDN0NvQyxFQUFJSyxhQUFhekMsTUFBTSxLQUFLLEdBRTNDSCxTQUFTQyxlQUFlLDJCQUEyQitCLFVBQVlvQixFQUN6RCxrREFBb0RELEVBQW9CLGlCQUM5RW5ELFNBQVNDLGVBQWUsOEJBQThCb0QsTUFBTUMsTUFBcUMsSUFBNUJGLEVBQWtDRCxFQUFxQixNQUlwSVosRUFBSVMsS0FBSyxPQUFRN0QsV0FDakJvRCxFQUFJVSxpQkFBaUIsZUFBZ0Isb0RBQ3JDVixFQUFJVyxLQUFLLHlCQUdiLFNBQVNILGFBQ0xRLGNBQWN0RSxpQkFDVmUsU0FBU0MsZUFBZSxzQkFBc0IrQixVQUFZLGFBQzFEaEMsU0FBU0MsZUFBZSxzQkFBc0JnQyxVQUFVdUIsT0FBTyx1QkFDL0RwRSxXQUFhLFVBSXJCcUUsT0FBT0MsaUJBQWlCLE9BQVEsS0FDUSxvQkFBekJDLHVCQUNQeEUsVUFBWWEsU0FBU0MsZUFBZSxZQUFZMkQsUUFBUUMsVUFFeER4RSxnQkFDQVcsU0FBU0MsZUFBZSxzQkFBc0J5RCxpQkFBaUIsU0FBUyxXQUNsRCxXQUFkdEUsV0FDQTJDLGVBRUFnQiIsImZpbGUiOiJ0c20ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmxldCB0c21faW50ZXJ2YWxfaWRcbmxldCB0c21fc3RhdHVzID0gJ3N0b3BwZWQnXG5sZXQgdHNtX2RhdGF0YWJsZXNcbmxldCB3cEFqYXhVcmxcblxuZnVuY3Rpb24gdHNtT25Mb2FkTWFpbigpIHtcbiAgICBjb25zb2xlLmxvZygnTG9hZGluZyBUaGUgU0VPIE1hY2hpbmUgdmlldy4uJylcblxuICAgIGpRdWVyeSgnI3RzbS1kYXRhdGFibGUgdGZvb3QgdGgnKS5lYWNoKCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxldCB0aXRsZSA9IGpRdWVyeSh0aGlzKS50ZXh0KClcblxuICAgICAgICBqUXVlcnkodGhpcykuaHRtbCggJzxpbnB1dCB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiRmlsdHJhci4uXCIgLz4nIClcbiAgICB9KVxuXG4gICAgdHNtTG9hZERhdGF0YWJsZXMoKVxuICAgIHRzbVVwZGF0ZVN0YXR1c0JhcigpXG59XG5cbmZ1bmN0aW9uIHRzbUxvYWREYXRhdGFibGVzICgpIHtcbiAgICBsZXQgY3VycmVudENvbHVtbnNUb1Nob3cgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndHNtLWN1cnJlbnQtY29sdW1ucy10by1zaG93JykudmFsdWVcbiAgICBjdXJyZW50Q29sdW1uc1RvU2hvdyA9IGN1cnJlbnRDb2x1bW5zVG9TaG93LnNwbGl0KCcsJylcbiAgICBjb25zb2xlLmxvZyhjdXJyZW50Q29sdW1uc1RvU2hvdylcblxuICAgIGxldCBjb2x1bW5EZWZzQXJyYXkgPSBuZXcgQXJyYXkoKVxuICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBjdXJyZW50Q29sdW1uc1RvU2hvdy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgY29sdW1uRGVmc0FycmF5LnB1c2goeyBcIm5hbWVcIjogY3VycmVudENvbHVtbnNUb1Nob3dbaW5kZXhdLCBcInRhcmdldHNcIjogaW5kZXggfSkgICAgXG4gICAgfVxuICAgIGNvbnNvbGUubG9nKGNvbHVtbkRlZnNBcnJheSlcblxuICAgIHRzbV9kYXRhdGFibGVzID0galF1ZXJ5KCcjdHNtLWRhdGF0YWJsZScpLkRhdGFUYWJsZSh7XG4gICAgICAgIGRvbTogJzxcImZsb2F0LWxlZnRcImk+PFwiZmxvYXQtcmlnaHRcImY+dDxcImZsb2F0LWxlZnRcImw+QjxcImZsb2F0LXJpZ2h0XCJwPjxcImNsZWFyZml4XCI+JyxcbiAgICAgICAgcmVzcG9uc2l2ZTogdHJ1ZSxcbiAgICAgICAgb3JkZXI6IFtbIDAsIFwiZGVzY1wiIF1dLFxuICAgICAgICBidXR0b25zOiBbJ2NzdicsICdleGNlbCcsICdwZGYnXSxcbiAgICAgICAgaW5pdENvbXBsZXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLmFwaSgpLmNvbHVtbnMoKS5ldmVyeSggZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGxldCB0aGF0ID0gdGhpc1xuXG4gICAgICAgICAgICAgICAgalF1ZXJ5KCAnaW5wdXQnLCB0aGlzLmZvb3RlcigpICkub24oICdrZXl1cCBjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICggdGhhdC5zZWFyY2goKSAhPT0gdGhpcy52YWx1ZSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc2VhcmNoKCB0aGlzLnZhbHVlIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZHJhdygpXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0sXG4gICAgICAgIHByb2Nlc3Npbmc6IHRydWUsXG4gICAgICAgIHNlcnZlclNpZGU6IHRydWUsXG4gICAgICAgIGFqYXg6IHtcbiAgICAgICAgICAgIHVybDogd3BBamF4VXJsICsgJz9hY3Rpb249dHNtX3VybHMnLFxuICAgICAgICAgICAgdHlwZTogJ1BPU1QnXG4gICAgICAgIH0sXG4gICAgICAgIGNvbHVtbkRlZnM6IGNvbHVtbkRlZnNBcnJheVxuICAgIH0pXG5cbiAgICBjb25zb2xlLmxvZygnTG9hZGVkIFRoZSBTRU8gTWFjaGluZSB2aWV3IScpXG59XG5cbmZ1bmN0aW9uIHRzbVN0dWR5U2l0ZSgpIHtcbiAgICBjb25zb2xlLmxvZygnU3RhcnRpbmcgc3R1ZHkgc2l0ZS4uJylcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndHNtLWJ0bi1zdHVkeS1zaXRlJykuaW5uZXJIVE1MID0gJ1N0b3AnXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RzbS1idG4tc3R1ZHktc2l0ZScpLmNsYXNzTGlzdC5hZGQoJ3RzbS1idXR0b24tc3R1ZHlpbmcnKVxuXG4gICAgbGV0IHF1YW50aXR5X3Blcl9iYXRjaCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdxdWFudGl0eV9wZXJfYmF0Y2gnKS52YWx1ZVxuICAgIGxldCB0aW1lX2JldHdlZW5fYmF0Y2hlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aW1lX2JldHdlZW5fYmF0Y2hlcycpLnZhbHVlXG4gICAgY29uc29sZS5sb2coJ1F1YW50aXR5IHBlciBiYXRjaDogJyArIHF1YW50aXR5X3Blcl9iYXRjaCArICcsIHRpbWUgYmV0d2VlbiBiYXRjaGVzOiAnICsgdGltZV9iZXR3ZWVuX2JhdGNoZXMpXG5cbiAgICB0c21faW50ZXJ2YWxfaWQgPSBzZXRJbnRlcnZhbCh0c21TdHVkeVNpdGVTZW5kQWpheCwgdGltZV9iZXR3ZWVuX2JhdGNoZXMgKiAxMDAwKVxuICAgIHRzbV9zdGF0dXMgPSAnc3R1ZHlpbmcnXG59XG5cbmZ1bmN0aW9uIHRzbVN0dWR5U2l0ZVNlbmRBamF4KCkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0c20tYm94LXN0dWR5LXNpdGUtc3RhdHVzJykuaW5uZXJIVE1MID0gJ0RvaW5nIGJhdGNoLi4nXG5cbiAgICBsZXQgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KClcblxuICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSA0KSB7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndHNtLWJveC1zdHVkeS1zaXRlLXN0YXR1cycpLmlubmVySFRNTCA9ICdTdHVkeWluZyB3aXRoIGN1cnJlbnQgc3RhdHVzOiA8c3Ryb25nPicgKyB4aHIucmVzcG9uc2VUZXh0ICsgJzwvc3Ryb25nPidcbiAgICAgICAgICAgIHRzbVVwZGF0ZVN0YXR1c0JhcigpXG4gICAgICAgICAgICB0c21fZGF0YXRhYmxlcy5hamF4LnJlbG9hZCgpXG4gICAgICAgICAgICBpZih4aHIucmVzcG9uc2VUZXh0LmluY2x1ZGVzKCdmaW5pc2hlZCcpKSB7XG4gICAgICAgICAgICAgICAgdHNtU3RvcEFsbCgpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB4aHIub3BlbignUE9TVCcsIHdwQWpheFVybCk7XG4gICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLTgnKTtcbiAgICB4aHIuc2VuZCgnYWN0aW9uPXRzbV9kb19iYXRjaCcpO1xufVxuXG5mdW5jdGlvbiB0c21VcGRhdGVTdGF0dXNCYXIoKSB7XG4gICAgbGV0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpXG5cbiAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gNCkge1xuICAgICAgICAgICAgbGV0IG51bV91cmxzX2luX3F1ZXVlID0geGhyLnJlc3BvbnNlVGV4dC5zcGxpdCgnLCcpWzBdXG4gICAgICAgICAgICBsZXQgbnVtX3VybHNfaW5fcXVldWVfdmlzaXRlZCA9IHhoci5yZXNwb25zZVRleHQuc3BsaXQoJywnKVsxXVxuICAgICAgICAgICAgbGV0IG51bV91cmxzID0geGhyLnJlc3BvbnNlVGV4dC5zcGxpdCgnLCcpWzJdXG5cbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0c20tcHJvZ3Jlc3MtcXVldWUtdGV4dCcpLmlubmVySFRNTCA9IG51bV91cmxzX2luX3F1ZXVlX3Zpc2l0ZWRcbiAgICAgICAgICAgICAgICArICcgVVJMcyBzdHVkaWVkIGZyb20gdGhlIHF1ZXVlIG91dCBvZiBhIHRvdGFsIG9mICcgKyBudW1fdXJsc19pbl9xdWV1ZSArICcgVVJMcyBlbnF1ZXVlZCdcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0c20tcHJvZ3Jlc3MtcXVldWUtY29udGVudCcpLnN0eWxlLndpZHRoID0gKG51bV91cmxzX2luX3F1ZXVlX3Zpc2l0ZWQgKiAxMDAgLyBudW1fdXJsc19pbl9xdWV1ZSkgKyAnJSdcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHhoci5vcGVuKCdQT1NUJywgd3BBamF4VXJsKTtcbiAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOCcpO1xuICAgIHhoci5zZW5kKCdhY3Rpb249dHNtX2dldF9zdGF0dXMnKTtcbn1cblxuZnVuY3Rpb24gdHNtU3RvcEFsbCgpe1xuICAgIGNsZWFySW50ZXJ2YWwodHNtX2ludGVydmFsX2lkKVxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndHNtLWJ0bi1zdHVkeS1zaXRlJykuaW5uZXJIVE1MID0gJ1N0dWR5IFNpdGUnXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0c20tYnRuLXN0dWR5LXNpdGUnKS5jbGFzc0xpc3QucmVtb3ZlKCd0c20tYnV0dG9uLXN0dWR5aW5nJylcbiAgICAgICAgdHNtX3N0YXR1cyA9ICdzdG9wcGVkJ1xufVxuXG4vLyBTdGFydHMgYWxsIEpTLi5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygd2VBcmVJblRoZVNlb01hY2hpbmUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHdwQWpheFVybCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0c21fZm9ybScpLmRhdGFzZXQud3BhamF4dXJsO1xuXG4gICAgICAgIHRzbU9uTG9hZE1haW4oKVxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndHNtLWJ0bi1zdHVkeS1zaXRlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodHNtX3N0YXR1cyA9PSAnc3RvcHBlZCcpIHtcbiAgICAgICAgICAgICAgICB0c21TdHVkeVNpdGUoKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0c21TdG9wQWxsKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG59KVxuIl19
