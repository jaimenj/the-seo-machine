"use strict";let tsm_interval_id,tsm_status="stopped";function tsmOnLoadMain(){console.log("Loading The SEO Machine view..")}function tsmStudySite(){console.log("Starting study site.."),document.getElementById("tsm-btn-study-site").innerHTML="Stop",document.getElementById("tsm-btn-study-site").classList.add("tsm-button-studying");let t=document.getElementById("quantity_per_batch").value,e=document.getElementById("time_between_batches").value;console.log("Quantity per batch: "+t+", time between batches: "+e),tsm_interval_id=setInterval(tsmStudySiteSendAjax,1e3*e),tsm_status="studying"}function tsmStudySiteSendAjax(){document.getElementById("tsm-box-study-site-status").innerHTML="Processing..";let t=new XMLHttpRequest;t.onreadystatechange=function(e){4===t.readyState&&(document.getElementById("tsm-box-study-site-status").innerHTML="Studying with response: "+t.responseText,t.responseText.includes("finished")&&tsmStopAll())},t.open("POST","/wp-admin/admin-ajax.php"),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),t.send("action=tsm_do_batch")}function tsmStopAll(){clearInterval(tsm_interval_id),document.getElementById("tsm-btn-study-site").innerHTML="Study Site",document.getElementById("tsm-btn-study-site").classList.remove("tsm-button-studying"),tsm_status="stopped"}window.addEventListener("load",()=>{"undefined"!=typeof weAreInTheSeoMachine&&(tsmOnLoadMain(),document.getElementById("tsm-btn-study-site").addEventListener("click",(function(){"stopped"==tsm_status?tsmStudySite():tsmStopAll()})))});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRzbS5qcyJdLCJuYW1lcyI6WyJ0c21faW50ZXJ2YWxfaWQiLCJ0c21fc3RhdHVzIiwidHNtT25Mb2FkTWFpbiIsImNvbnNvbGUiLCJsb2ciLCJ0c21TdHVkeVNpdGUiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiaW5uZXJIVE1MIiwiY2xhc3NMaXN0IiwiYWRkIiwicXVhbnRpdHlfcGVyX2JhdGNoIiwidmFsdWUiLCJ0aW1lX2JldHdlZW5fYmF0Y2hlcyIsInNldEludGVydmFsIiwidHNtU3R1ZHlTaXRlU2VuZEFqYXgiLCJ4aHIiLCJYTUxIdHRwUmVxdWVzdCIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlc3BvbnNlIiwicmVhZHlTdGF0ZSIsInJlc3BvbnNlVGV4dCIsImluY2x1ZGVzIiwidHNtU3RvcEFsbCIsIm9wZW4iLCJzZXRSZXF1ZXN0SGVhZGVyIiwic2VuZCIsImNsZWFySW50ZXJ2YWwiLCJyZW1vdmUiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwid2VBcmVJblRoZVNlb01hY2hpbmUiXSwibWFwcGluZ3MiOiJBQUFBLGFBRUEsSUFBSUEsZ0JBQ0FDLFdBQWEsVUFFakIsU0FBU0MsZ0JBQ0xDLFFBQVFDLElBQUksa0NBR2hCLFNBQVNDLGVBQ0xGLFFBQVFDLElBQUkseUJBQ1pFLFNBQVNDLGVBQWUsc0JBQXNCQyxVQUFZLE9BQzFERixTQUFTQyxlQUFlLHNCQUFzQkUsVUFBVUMsSUFBSSx1QkFFNUQsSUFBSUMsRUFBcUJMLFNBQVNDLGVBQWUsc0JBQXNCSyxNQUNuRUMsRUFBdUJQLFNBQVNDLGVBQWUsd0JBQXdCSyxNQUMzRVQsUUFBUUMsSUFBSSx1QkFBeUJPLEVBQXFCLDJCQUE2QkUsR0FFdkZiLGdCQUFrQmMsWUFBWUMscUJBQTZDLElBQXZCRixHQUNwRFosV0FBYSxXQUdqQixTQUFTYyx1QkFDTFQsU0FBU0MsZUFBZSw2QkFBNkJDLFVBQVksZUFFakUsSUFBSVEsRUFBTSxJQUFJQyxlQUVkRCxFQUFJRSxtQkFBcUIsU0FBVUMsR0FDUixJQUFuQkgsRUFBSUksYUFDSmQsU0FBU0MsZUFBZSw2QkFBNkJDLFVBQVksMkJBQTZCUSxFQUFJSyxhQUMvRkwsRUFBSUssYUFBYUMsU0FBUyxhQUN6QkMsZUFLWlAsRUFBSVEsS0FBSyxPQUFRLDRCQUNqQlIsRUFBSVMsaUJBQWlCLGVBQWdCLG9EQUNyQ1QsRUFBSVUsS0FBSyx1QkFHYixTQUFTSCxhQUNMSSxjQUFjM0IsaUJBQ1ZNLFNBQVNDLGVBQWUsc0JBQXNCQyxVQUFZLGFBQzFERixTQUFTQyxlQUFlLHNCQUFzQkUsVUFBVW1CLE9BQU8sdUJBQy9EM0IsV0FBYSxVQUlyQjRCLE9BQU9DLGlCQUFpQixPQUFRLEtBQ1Esb0JBQXpCQyx1QkFDUDdCLGdCQUNBSSxTQUFTQyxlQUFlLHNCQUFzQnVCLGlCQUFpQixTQUFTLFdBQ2xELFdBQWQ3QixXQUNBSSxlQUVBa0IiLCJmaWxlIjoidHNtLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5sZXQgdHNtX2ludGVydmFsX2lkXG5sZXQgdHNtX3N0YXR1cyA9ICdzdG9wcGVkJ1xuXG5mdW5jdGlvbiB0c21PbkxvYWRNYWluKCkge1xuICAgIGNvbnNvbGUubG9nKCdMb2FkaW5nIFRoZSBTRU8gTWFjaGluZSB2aWV3Li4nKVxufVxuXG5mdW5jdGlvbiB0c21TdHVkeVNpdGUoKSB7XG4gICAgY29uc29sZS5sb2coJ1N0YXJ0aW5nIHN0dWR5IHNpdGUuLicpXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RzbS1idG4tc3R1ZHktc2l0ZScpLmlubmVySFRNTCA9ICdTdG9wJ1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0c20tYnRuLXN0dWR5LXNpdGUnKS5jbGFzc0xpc3QuYWRkKCd0c20tYnV0dG9uLXN0dWR5aW5nJylcblxuICAgIGxldCBxdWFudGl0eV9wZXJfYmF0Y2ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncXVhbnRpdHlfcGVyX2JhdGNoJykudmFsdWVcbiAgICBsZXQgdGltZV9iZXR3ZWVuX2JhdGNoZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGltZV9iZXR3ZWVuX2JhdGNoZXMnKS52YWx1ZVxuICAgIGNvbnNvbGUubG9nKCdRdWFudGl0eSBwZXIgYmF0Y2g6ICcgKyBxdWFudGl0eV9wZXJfYmF0Y2ggKyAnLCB0aW1lIGJldHdlZW4gYmF0Y2hlczogJyArIHRpbWVfYmV0d2Vlbl9iYXRjaGVzKVxuXG4gICAgdHNtX2ludGVydmFsX2lkID0gc2V0SW50ZXJ2YWwodHNtU3R1ZHlTaXRlU2VuZEFqYXgsIHRpbWVfYmV0d2Vlbl9iYXRjaGVzICogMTAwMClcbiAgICB0c21fc3RhdHVzID0gJ3N0dWR5aW5nJ1xufVxuXG5mdW5jdGlvbiB0c21TdHVkeVNpdGVTZW5kQWpheCgpIHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndHNtLWJveC1zdHVkeS1zaXRlLXN0YXR1cycpLmlubmVySFRNTCA9ICdQcm9jZXNzaW5nLi4nXG5cbiAgICBsZXQgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KClcblxuICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSA0KSB7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndHNtLWJveC1zdHVkeS1zaXRlLXN0YXR1cycpLmlubmVySFRNTCA9ICdTdHVkeWluZyB3aXRoIHJlc3BvbnNlOiAnICsgeGhyLnJlc3BvbnNlVGV4dFxuICAgICAgICAgICAgaWYoeGhyLnJlc3BvbnNlVGV4dC5pbmNsdWRlcygnZmluaXNoZWQnKSkge1xuICAgICAgICAgICAgICAgIHRzbVN0b3BBbGwoKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIHhoci5vcGVuKCdQT1NUJywgJy93cC1hZG1pbi9hZG1pbi1hamF4LnBocCcpO1xuICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04Jyk7XG4gICAgeGhyLnNlbmQoJ2FjdGlvbj10c21fZG9fYmF0Y2gnKTtcbn1cblxuZnVuY3Rpb24gdHNtU3RvcEFsbCgpe1xuICAgIGNsZWFySW50ZXJ2YWwodHNtX2ludGVydmFsX2lkKVxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndHNtLWJ0bi1zdHVkeS1zaXRlJykuaW5uZXJIVE1MID0gJ1N0dWR5IFNpdGUnXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0c20tYnRuLXN0dWR5LXNpdGUnKS5jbGFzc0xpc3QucmVtb3ZlKCd0c20tYnV0dG9uLXN0dWR5aW5nJylcbiAgICAgICAgdHNtX3N0YXR1cyA9ICdzdG9wcGVkJ1xufVxuXG4vLyBTdGFydHMgYWxsIEpTLi5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygd2VBcmVJblRoZVNlb01hY2hpbmUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRzbU9uTG9hZE1haW4oKVxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndHNtLWJ0bi1zdHVkeS1zaXRlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodHNtX3N0YXR1cyA9PSAnc3RvcHBlZCcpIHtcbiAgICAgICAgICAgICAgICB0c21TdHVkeVNpdGUoKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0c21TdG9wQWxsKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG59KVxuIl19
