"use strict";let tsm_interval_id,tsm_datatables,wpAjaxUrl,tsm_status="stopped";function tsmOnLoadMain(){console.log("Loading The SEO Machine view.."),jQuery("#tsm-datatable tfoot th").each((function(){jQuery(this).text();jQuery(this).html('<input type="text" placeholder="Filtrar.." />')})),tsmLoadDatatables(),tsmUpdateStatusBar()}function tsmLoadDatatables(){let t=document.getElementById("tsm-datatable").dataset.ajax_datatables_server_processing_url,e=document.getElementById("tsm-current-columns-to-show").value;e=e.split(","),console.log(e);let s=new Array;for(let t=0;t<e.length;t++)s.push({name:e[t],targets:t});console.log(s),tsm_datatables=jQuery("#tsm-datatable").DataTable({dom:'<"float-left"i><"float-right"f>t<"float-left"l>B<"float-right"p><"clearfix">',responsive:!0,order:[[0,"desc"]],buttons:["csv","excel","pdf"],initComplete:function(){this.api().columns().every((function(){let t=this;jQuery("input",this.footer()).on("keyup change",(function(){t.search()!==this.value&&t.search(this.value).draw()}))}))},processing:!0,serverSide:!0,ajax:{url:t,type:"POST"},columnDefs:s}),console.log("Loaded The SEO Machine view!")}function tsmStudySite(){console.log("Starting study site.."),document.getElementById("tsm-btn-study-site").innerHTML="Stop",document.getElementById("tsm-btn-study-site").classList.add("tsm-button-studying");let t=document.getElementById("quantity_per_batch").value,e=document.getElementById("time_between_batches").value;console.log("Quantity per batch: "+t+", time between batches: "+e),tsm_interval_id=setInterval(tsmStudySiteSendAjax,1e3*e),tsm_status="studying"}function tsmStudySiteSendAjax(){document.getElementById("tsm-box-study-site-status").innerHTML="Doing batch..";let t=new XMLHttpRequest;t.onreadystatechange=function(e){4===t.readyState&&(document.getElementById("tsm-box-study-site-status").innerHTML="Studying with current status: <strong>"+t.responseText+"</strong>",tsmUpdateStatusBar(),tsm_datatables.ajax.reload(),t.responseText.includes("finished")&&tsmStopAll())},t.open("POST",wpAjaxUrl),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),t.send("action=tsm_do_batch")}function tsmUpdateStatusBar(){let t=new XMLHttpRequest;t.onreadystatechange=function(e){if(4===t.readyState){let e=t.responseText.split(",")[0],s=t.responseText.split(",")[1];t.responseText.split(",")[2];document.getElementById("tsm-progress-queue-text").innerHTML=s+" URLs studied from the queue out of a total of "+e+" URLs enqueued",document.getElementById("tsm-progress-queue-content").style.width=100*s/e+"%"}},t.open("POST",wpAjaxUrl),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),t.send("action=tsm_get_status")}function tsmStopAll(){clearInterval(tsm_interval_id),document.getElementById("tsm-btn-study-site").innerHTML="Study Site",document.getElementById("tsm-btn-study-site").classList.remove("tsm-button-studying"),tsm_status="stopped"}window.addEventListener("load",()=>{"undefined"!=typeof weAreInTheSeoMachine&&(wpAjaxUrl=document.getElementById("tsm_form").dataset.wpajaxurl,tsmOnLoadMain(),document.getElementById("tsm-btn-study-site").addEventListener("click",(function(){"stopped"==tsm_status?tsmStudySite():tsmStopAll()})))});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRzbS5qcyJdLCJuYW1lcyI6WyJ0c21faW50ZXJ2YWxfaWQiLCJ0c21fZGF0YXRhYmxlcyIsIndwQWpheFVybCIsInRzbV9zdGF0dXMiLCJ0c21PbkxvYWRNYWluIiwiY29uc29sZSIsImxvZyIsImpRdWVyeSIsImVhY2giLCJ0aGlzIiwidGV4dCIsImh0bWwiLCJ0c21Mb2FkRGF0YXRhYmxlcyIsInRzbVVwZGF0ZVN0YXR1c0JhciIsImFqYXhEYXRhdGFibGVzU2VydmVyUHJvY2Vzc2luZ1VybCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJkYXRhc2V0IiwiYWpheF9kYXRhdGFibGVzX3NlcnZlcl9wcm9jZXNzaW5nX3VybCIsImN1cnJlbnRDb2x1bW5zVG9TaG93IiwidmFsdWUiLCJzcGxpdCIsImNvbHVtbkRlZnNBcnJheSIsIkFycmF5IiwiaW5kZXgiLCJsZW5ndGgiLCJwdXNoIiwibmFtZSIsInRhcmdldHMiLCJEYXRhVGFibGUiLCJkb20iLCJyZXNwb25zaXZlIiwib3JkZXIiLCJidXR0b25zIiwiaW5pdENvbXBsZXRlIiwiYXBpIiwiY29sdW1ucyIsImV2ZXJ5IiwidGhhdCIsImZvb3RlciIsIm9uIiwic2VhcmNoIiwiZHJhdyIsInByb2Nlc3NpbmciLCJzZXJ2ZXJTaWRlIiwiYWpheCIsInVybCIsInR5cGUiLCJjb2x1bW5EZWZzIiwidHNtU3R1ZHlTaXRlIiwiaW5uZXJIVE1MIiwiY2xhc3NMaXN0IiwiYWRkIiwicXVhbnRpdHlfcGVyX2JhdGNoIiwidGltZV9iZXR3ZWVuX2JhdGNoZXMiLCJzZXRJbnRlcnZhbCIsInRzbVN0dWR5U2l0ZVNlbmRBamF4IiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZXNwb25zZSIsInJlYWR5U3RhdGUiLCJyZXNwb25zZVRleHQiLCJyZWxvYWQiLCJpbmNsdWRlcyIsInRzbVN0b3BBbGwiLCJvcGVuIiwic2V0UmVxdWVzdEhlYWRlciIsInNlbmQiLCJudW1fdXJsc19pbl9xdWV1ZSIsIm51bV91cmxzX2luX3F1ZXVlX3Zpc2l0ZWQiLCJzdHlsZSIsIndpZHRoIiwiY2xlYXJJbnRlcnZhbCIsInJlbW92ZSIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJ3ZUFyZUluVGhlU2VvTWFjaGluZSIsIndwYWpheHVybCJdLCJtYXBwaW5ncyI6IkFBQUEsYUFFQSxJQUFJQSxnQkFFQUMsZUFDQUMsVUFGQUMsV0FBYSxVQUlqQixTQUFTQyxnQkFDTEMsUUFBUUMsSUFBSSxrQ0FFWkMsT0FBTywyQkFBMkJDLE1BQU0sV0FDeEJELE9BQU9FLE1BQU1DLE9BRXpCSCxPQUFPRSxNQUFNRSxLQUFNLG9EQUd2QkMsb0JBQ0FDLHFCQUdKLFNBQVNELG9CQUNMLElBQUlFLEVBQW9DQyxTQUFTQyxlQUFlLGlCQUFpQkMsUUFBUUMsc0NBQ3JGQyxFQUF1QkosU0FBU0MsZUFBZSwrQkFBK0JJLE1BQ2xGRCxFQUF1QkEsRUFBcUJFLE1BQU0sS0FDbERoQixRQUFRQyxJQUFJYSxHQUVaLElBQUlHLEVBQWtCLElBQUlDLE1BQzFCLElBQUssSUFBSUMsRUFBUSxFQUFHQSxFQUFRTCxFQUFxQk0sT0FBUUQsSUFDckRGLEVBQWdCSSxLQUFLLENBQUVDLEtBQVFSLEVBQXFCSyxHQUFRSSxRQUFXSixJQUUzRW5CLFFBQVFDLElBQUlnQixHQUVackIsZUFBaUJNLE9BQU8sa0JBQWtCc0IsVUFBVSxDQUNoREMsSUFBSywrRUFDTEMsWUFBWSxFQUNaQyxNQUFPLENBQUMsQ0FBRSxFQUFHLFNBQ2JDLFFBQVMsQ0FBQyxNQUFPLFFBQVMsT0FDMUJDLGFBQWMsV0FDVnpCLEtBQUswQixNQUFNQyxVQUFVQyxPQUFPLFdBQ3hCLElBQUlDLEVBQU83QixLQUVYRixPQUFRLFFBQVNFLEtBQUs4QixVQUFXQyxHQUFJLGdCQUFnQixXQUM1Q0YsRUFBS0csV0FBYWhDLEtBQUtXLE9BQ3hCa0IsRUFDS0csT0FBUWhDLEtBQUtXLE9BQ2JzQixjQUtyQkMsWUFBWSxFQUNaQyxZQUFZLEVBQ1pDLEtBQU0sQ0FDRkMsSUFBS2hDLEVBQ0xpQyxLQUFNLFFBRVZDLFdBQVkxQixJQUdoQmpCLFFBQVFDLElBQUksZ0NBR2hCLFNBQVMyQyxlQUNMNUMsUUFBUUMsSUFBSSx5QkFDWlMsU0FBU0MsZUFBZSxzQkFBc0JrQyxVQUFZLE9BQzFEbkMsU0FBU0MsZUFBZSxzQkFBc0JtQyxVQUFVQyxJQUFJLHVCQUU1RCxJQUFJQyxFQUFxQnRDLFNBQVNDLGVBQWUsc0JBQXNCSSxNQUNuRWtDLEVBQXVCdkMsU0FBU0MsZUFBZSx3QkFBd0JJLE1BQzNFZixRQUFRQyxJQUFJLHVCQUF5QitDLEVBQXFCLDJCQUE2QkMsR0FFdkZ0RCxnQkFBa0J1RCxZQUFZQyxxQkFBNkMsSUFBdkJGLEdBQ3BEbkQsV0FBYSxXQUdqQixTQUFTcUQsdUJBQ0x6QyxTQUFTQyxlQUFlLDZCQUE2QmtDLFVBQVksZ0JBRWpFLElBQUlPLEVBQU0sSUFBSUMsZUFFZEQsRUFBSUUsbUJBQXFCLFNBQVVDLEdBQ1IsSUFBbkJILEVBQUlJLGFBQ0o5QyxTQUFTQyxlQUFlLDZCQUE2QmtDLFVBQVkseUNBQTJDTyxFQUFJSyxhQUFlLFlBQy9IakQscUJBQ0FaLGVBQWU0QyxLQUFLa0IsU0FDakJOLEVBQUlLLGFBQWFFLFNBQVMsYUFDekJDLGVBS1pSLEVBQUlTLEtBQUssT0FBUWhFLFdBQ2pCdUQsRUFBSVUsaUJBQWlCLGVBQWdCLG9EQUNyQ1YsRUFBSVcsS0FBSyx1QkFHYixTQUFTdkQscUJBQ0wsSUFBSTRDLEVBQU0sSUFBSUMsZUFFZEQsRUFBSUUsbUJBQXFCLFNBQVVDLEdBQy9CLEdBQXVCLElBQW5CSCxFQUFJSSxXQUFrQixDQUN0QixJQUFJUSxFQUFvQlosRUFBSUssYUFBYXpDLE1BQU0sS0FBSyxHQUNoRGlELEVBQTRCYixFQUFJSyxhQUFhekMsTUFBTSxLQUFLLEdBQzdDb0MsRUFBSUssYUFBYXpDLE1BQU0sS0FBSyxHQUUzQ04sU0FBU0MsZUFBZSwyQkFBMkJrQyxVQUFZb0IsRUFDekQsa0RBQW9ERCxFQUFvQixpQkFDOUV0RCxTQUFTQyxlQUFlLDhCQUE4QnVELE1BQU1DLE1BQXFDLElBQTVCRixFQUFrQ0QsRUFBcUIsTUFJcElaLEVBQUlTLEtBQUssT0FBUWhFLFdBQ2pCdUQsRUFBSVUsaUJBQWlCLGVBQWdCLG9EQUNyQ1YsRUFBSVcsS0FBSyx5QkFHYixTQUFTSCxhQUNMUSxjQUFjekUsaUJBQ1ZlLFNBQVNDLGVBQWUsc0JBQXNCa0MsVUFBWSxhQUMxRG5DLFNBQVNDLGVBQWUsc0JBQXNCbUMsVUFBVXVCLE9BQU8sdUJBQy9EdkUsV0FBYSxVQUlyQndFLE9BQU9DLGlCQUFpQixPQUFRLEtBQ1Esb0JBQXpCQyx1QkFDUDNFLFVBQVlhLFNBQVNDLGVBQWUsWUFBWUMsUUFBUTZELFVBRXhEMUUsZ0JBQ0FXLFNBQVNDLGVBQWUsc0JBQXNCNEQsaUJBQWlCLFNBQVMsV0FDbEQsV0FBZHpFLFdBQ0E4QyxlQUVBZ0IiLCJmaWxlIjoidHNtLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5sZXQgdHNtX2ludGVydmFsX2lkXG5sZXQgdHNtX3N0YXR1cyA9ICdzdG9wcGVkJ1xubGV0IHRzbV9kYXRhdGFibGVzXG5sZXQgd3BBamF4VXJsXG5cbmZ1bmN0aW9uIHRzbU9uTG9hZE1haW4oKSB7XG4gICAgY29uc29sZS5sb2coJ0xvYWRpbmcgVGhlIFNFTyBNYWNoaW5lIHZpZXcuLicpXG5cbiAgICBqUXVlcnkoJyN0c20tZGF0YXRhYmxlIHRmb290IHRoJykuZWFjaCggZnVuY3Rpb24gKCkge1xuICAgICAgICBsZXQgdGl0bGUgPSBqUXVlcnkodGhpcykudGV4dCgpXG5cbiAgICAgICAgalF1ZXJ5KHRoaXMpLmh0bWwoICc8aW5wdXQgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIkZpbHRyYXIuLlwiIC8+JyApXG4gICAgfSlcblxuICAgIHRzbUxvYWREYXRhdGFibGVzKClcbiAgICB0c21VcGRhdGVTdGF0dXNCYXIoKVxufVxuXG5mdW5jdGlvbiB0c21Mb2FkRGF0YXRhYmxlcyAoKSB7XG4gICAgbGV0IGFqYXhEYXRhdGFibGVzU2VydmVyUHJvY2Vzc2luZ1VybCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0c20tZGF0YXRhYmxlJykuZGF0YXNldC5hamF4X2RhdGF0YWJsZXNfc2VydmVyX3Byb2Nlc3NpbmdfdXJsXG4gICAgbGV0IGN1cnJlbnRDb2x1bW5zVG9TaG93ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RzbS1jdXJyZW50LWNvbHVtbnMtdG8tc2hvdycpLnZhbHVlXG4gICAgY3VycmVudENvbHVtbnNUb1Nob3cgPSBjdXJyZW50Q29sdW1uc1RvU2hvdy5zcGxpdCgnLCcpXG4gICAgY29uc29sZS5sb2coY3VycmVudENvbHVtbnNUb1Nob3cpXG5cbiAgICBsZXQgY29sdW1uRGVmc0FycmF5ID0gbmV3IEFycmF5KClcbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgY3VycmVudENvbHVtbnNUb1Nob3cubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgIGNvbHVtbkRlZnNBcnJheS5wdXNoKHsgXCJuYW1lXCI6IGN1cnJlbnRDb2x1bW5zVG9TaG93W2luZGV4XSwgXCJ0YXJnZXRzXCI6IGluZGV4IH0pICAgIFxuICAgIH1cbiAgICBjb25zb2xlLmxvZyhjb2x1bW5EZWZzQXJyYXkpXG5cbiAgICB0c21fZGF0YXRhYmxlcyA9IGpRdWVyeSgnI3RzbS1kYXRhdGFibGUnKS5EYXRhVGFibGUoe1xuICAgICAgICBkb206ICc8XCJmbG9hdC1sZWZ0XCJpPjxcImZsb2F0LXJpZ2h0XCJmPnQ8XCJmbG9hdC1sZWZ0XCJsPkI8XCJmbG9hdC1yaWdodFwicD48XCJjbGVhcmZpeFwiPicsXG4gICAgICAgIHJlc3BvbnNpdmU6IHRydWUsXG4gICAgICAgIG9yZGVyOiBbWyAwLCBcImRlc2NcIiBdXSxcbiAgICAgICAgYnV0dG9uczogWydjc3YnLCAnZXhjZWwnLCAncGRmJ10sXG4gICAgICAgIGluaXRDb21wbGV0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5hcGkoKS5jb2x1bW5zKCkuZXZlcnkoIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBsZXQgdGhhdCA9IHRoaXNcblxuICAgICAgICAgICAgICAgIGpRdWVyeSggJ2lucHV0JywgdGhpcy5mb290ZXIoKSApLm9uKCAna2V5dXAgY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIHRoYXQuc2VhcmNoKCkgIT09IHRoaXMudmFsdWUgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNlYXJjaCggdGhpcy52YWx1ZSApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmRyYXcoKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgICAgICBwcm9jZXNzaW5nOiB0cnVlLFxuICAgICAgICBzZXJ2ZXJTaWRlOiB0cnVlLFxuICAgICAgICBhamF4OiB7XG4gICAgICAgICAgICB1cmw6IGFqYXhEYXRhdGFibGVzU2VydmVyUHJvY2Vzc2luZ1VybCxcbiAgICAgICAgICAgIHR5cGU6ICdQT1NUJ1xuICAgICAgICB9LFxuICAgICAgICBjb2x1bW5EZWZzOiBjb2x1bW5EZWZzQXJyYXlcbiAgICB9KVxuXG4gICAgY29uc29sZS5sb2coJ0xvYWRlZCBUaGUgU0VPIE1hY2hpbmUgdmlldyEnKVxufVxuXG5mdW5jdGlvbiB0c21TdHVkeVNpdGUoKSB7XG4gICAgY29uc29sZS5sb2coJ1N0YXJ0aW5nIHN0dWR5IHNpdGUuLicpXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RzbS1idG4tc3R1ZHktc2l0ZScpLmlubmVySFRNTCA9ICdTdG9wJ1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0c20tYnRuLXN0dWR5LXNpdGUnKS5jbGFzc0xpc3QuYWRkKCd0c20tYnV0dG9uLXN0dWR5aW5nJylcblxuICAgIGxldCBxdWFudGl0eV9wZXJfYmF0Y2ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncXVhbnRpdHlfcGVyX2JhdGNoJykudmFsdWVcbiAgICBsZXQgdGltZV9iZXR3ZWVuX2JhdGNoZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGltZV9iZXR3ZWVuX2JhdGNoZXMnKS52YWx1ZVxuICAgIGNvbnNvbGUubG9nKCdRdWFudGl0eSBwZXIgYmF0Y2g6ICcgKyBxdWFudGl0eV9wZXJfYmF0Y2ggKyAnLCB0aW1lIGJldHdlZW4gYmF0Y2hlczogJyArIHRpbWVfYmV0d2Vlbl9iYXRjaGVzKVxuXG4gICAgdHNtX2ludGVydmFsX2lkID0gc2V0SW50ZXJ2YWwodHNtU3R1ZHlTaXRlU2VuZEFqYXgsIHRpbWVfYmV0d2Vlbl9iYXRjaGVzICogMTAwMClcbiAgICB0c21fc3RhdHVzID0gJ3N0dWR5aW5nJ1xufVxuXG5mdW5jdGlvbiB0c21TdHVkeVNpdGVTZW5kQWpheCgpIHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndHNtLWJveC1zdHVkeS1zaXRlLXN0YXR1cycpLmlubmVySFRNTCA9ICdEb2luZyBiYXRjaC4uJ1xuXG4gICAgbGV0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpXG5cbiAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gNCkge1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RzbS1ib3gtc3R1ZHktc2l0ZS1zdGF0dXMnKS5pbm5lckhUTUwgPSAnU3R1ZHlpbmcgd2l0aCBjdXJyZW50IHN0YXR1czogPHN0cm9uZz4nICsgeGhyLnJlc3BvbnNlVGV4dCArICc8L3N0cm9uZz4nXG4gICAgICAgICAgICB0c21VcGRhdGVTdGF0dXNCYXIoKVxuICAgICAgICAgICAgdHNtX2RhdGF0YWJsZXMuYWpheC5yZWxvYWQoKVxuICAgICAgICAgICAgaWYoeGhyLnJlc3BvbnNlVGV4dC5pbmNsdWRlcygnZmluaXNoZWQnKSkge1xuICAgICAgICAgICAgICAgIHRzbVN0b3BBbGwoKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgeGhyLm9wZW4oJ1BPU1QnLCB3cEFqYXhVcmwpO1xuICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04Jyk7XG4gICAgeGhyLnNlbmQoJ2FjdGlvbj10c21fZG9fYmF0Y2gnKTtcbn1cblxuZnVuY3Rpb24gdHNtVXBkYXRlU3RhdHVzQmFyKCkge1xuICAgIGxldCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKVxuXG4gICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT09IDQpIHtcbiAgICAgICAgICAgIGxldCBudW1fdXJsc19pbl9xdWV1ZSA9IHhoci5yZXNwb25zZVRleHQuc3BsaXQoJywnKVswXVxuICAgICAgICAgICAgbGV0IG51bV91cmxzX2luX3F1ZXVlX3Zpc2l0ZWQgPSB4aHIucmVzcG9uc2VUZXh0LnNwbGl0KCcsJylbMV1cbiAgICAgICAgICAgIGxldCBudW1fdXJscyA9IHhoci5yZXNwb25zZVRleHQuc3BsaXQoJywnKVsyXVxuXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndHNtLXByb2dyZXNzLXF1ZXVlLXRleHQnKS5pbm5lckhUTUwgPSBudW1fdXJsc19pbl9xdWV1ZV92aXNpdGVkXG4gICAgICAgICAgICAgICAgKyAnIFVSTHMgc3R1ZGllZCBmcm9tIHRoZSBxdWV1ZSBvdXQgb2YgYSB0b3RhbCBvZiAnICsgbnVtX3VybHNfaW5fcXVldWUgKyAnIFVSTHMgZW5xdWV1ZWQnXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndHNtLXByb2dyZXNzLXF1ZXVlLWNvbnRlbnQnKS5zdHlsZS53aWR0aCA9IChudW1fdXJsc19pbl9xdWV1ZV92aXNpdGVkICogMTAwIC8gbnVtX3VybHNfaW5fcXVldWUpICsgJyUnXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB4aHIub3BlbignUE9TVCcsIHdwQWpheFVybCk7XG4gICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLTgnKTtcbiAgICB4aHIuc2VuZCgnYWN0aW9uPXRzbV9nZXRfc3RhdHVzJyk7XG59XG5cbmZ1bmN0aW9uIHRzbVN0b3BBbGwoKXtcbiAgICBjbGVhckludGVydmFsKHRzbV9pbnRlcnZhbF9pZClcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RzbS1idG4tc3R1ZHktc2l0ZScpLmlubmVySFRNTCA9ICdTdHVkeSBTaXRlJ1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndHNtLWJ0bi1zdHVkeS1zaXRlJykuY2xhc3NMaXN0LnJlbW92ZSgndHNtLWJ1dHRvbi1zdHVkeWluZycpXG4gICAgICAgIHRzbV9zdGF0dXMgPSAnc3RvcHBlZCdcbn1cblxuLy8gU3RhcnRzIGFsbCBKUy4uXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcbiAgICBpZiAodHlwZW9mIHdlQXJlSW5UaGVTZW9NYWNoaW5lICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB3cEFqYXhVcmwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndHNtX2Zvcm0nKS5kYXRhc2V0LndwYWpheHVybDtcblxuICAgICAgICB0c21PbkxvYWRNYWluKClcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RzbS1idG4tc3R1ZHktc2l0ZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHRzbV9zdGF0dXMgPT0gJ3N0b3BwZWQnKSB7XG4gICAgICAgICAgICAgICAgdHNtU3R1ZHlTaXRlKClcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdHNtU3RvcEFsbCgpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxufSlcbiJdfQ==
